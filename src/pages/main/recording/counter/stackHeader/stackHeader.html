<!DOCTYPE html>
<html lang="pl-PL">

<head>
    <meta http-equiv="Content-Type" content="text/html;  charset=utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
    <style>
        html,
        body,
        svg {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
            background-color: transparent
        }
        
        svg {
            position: fixed
        }
    </style>
</head>

<body>
    <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 414 116">
        <path d="m 0,0 414,0 0,94 c 0,0 -81,0 -207,0 C 81,94 0,94 0,94 Z" fill="#D8232A" fill-rule="evenodd"> -->
    <!-- <animate attributeName="d" begin="0s" dur="1.1s" repeatCount="1" values="m 0,0 414,0 0,60 c 0,0 -81,0 -207,0 C 81,60 0,60 0,60 Z ; m 0,0 414,0 0,94 c 0,0 -81,22 -207,22 C 81,116 0,94 0,94 Z" fill="freeze"/> -->
    <!--<animate attributeName="d" dur="1.1s" repeatCount="1" values="M 0,0 414,0 414,0 C 414,0 333,0 207,0 C 81,0 0,0 0,0 Z ; M 0,0 414,0 414,94 C 414,94 333,116 207,116 C 81,116 0,94 0,94 Z" fill="freeze" />
    <animate attributeName="fill" dur="1.1s" repeatCount="1" values="#ffffff ; #D8232A" fill="freeze" />
    </path>
    </svg> -->

    <style>
        @font-face {
            font-family: 'din-r';
            font-style: normal;
            font-weight: 400;
            src: url('DIN2014Narrow-Regular.eot');
            src: local('open sans extralight'), local('open-sans-extralight'), url('DIN2014Narrow-Regular.eot?#iefix') format('embedded-opentype'), url('DIN2014Narrow-Regular.woff2') format('woff2'), url('DIN2014Narrow-Regular.woff') format('woff'), url('DIN2014Narrow-Regular.ttf') format('truetype'), url('DIN2014Narrow-Regular.svg#Barlow') format('svg'), url('DIN2014Narrow-Regular.otf') format('otf');
        }
        
        #test {
            font-family: 'din-r';
            font-size: 40px;
        }
    </style>
    <div id="test">test</div>

    <script>
        const body = document.querySelector('body');
        const getSVGelem = type => document.createElementNS('http://www.w3.org/2000/svg', type);
        const data = {};

        let showed = false;

        const show = (w, h) => {
            data.w = w;
            data.h = h;
            data.hs = (60 / 116) * h;

            let svg = getSVGelem('svg');
            svg.setAttribute('viewBox', '0 0 ' + w + ' ' + h);
            body.append(svg);

            let path = getSVGelem('path');
            path.setAttribute('fill', '#D8232A');
            path.setAttribute('fill-rule', 'evenodd');
            path.setAttribute('d', '');
            svg.append(path);

            let animate = getSVGelem('animate');
            animate.setAttribute('id', 'shape');
            animate.setAttribute('attributeName', 'd');
            animate.setAttribute('dur', '1.1s');
            animate.setAttribute('repeatCount', '1');
            animate.setAttribute('fill', 'freeze');
            data.h2 = (94 / 116) * h;
            data.cw = 414 / 2;
            data.w2 = (81 / 414) * w;
            let values = 'M 0,0 ' + data.w + ',0 ' + data.w + ',0' +
                ' C ' + data.w + ',0 ' + (data.w - data.w2) + ',0 ' + data.cw + ',0' +
                ' C ' + data.w2 + ',0 0,0 0,0 Z ; ' +
                'M 0,0 ' + data.w + ',0 ' + data.w + ',' + data.h2 +
                ' C ' + data.w + ',' + data.h2 + ' ' + (data.w - data.w2) + ',' + data.h + ' ' + data.cw + ',' + data.h +
                ' C ' + data.w2 + ',' + data.h + ' 0,' + data.h2 + ' 0,' + data.h2 + ' Z';

            animate.setAttribute('values', values);
            path.append(animate);

            let animate2 = getSVGelem('animate');
            animate2.setAttribute('id', 'color');
            animate2.setAttribute('attributeName', 'fill');
            animate2.setAttribute('dur', '1.1s');
            animate2.setAttribute('repeatCount', '1');
            animate2.setAttribute('fill', 'freeze');
            animate2.setAttribute('values', '#ffffff ; #D8232A');
            path.append(animate2);

            setTimeout(() => {
                showed = true;
            }, 1100);
        }

        const setPauseOn = () => {
            if (!showed) return;
            let shape = document.getElementById('shape');
            let values = 'M 0,0 ' + data.w + ',0 ' + data.w + ',' + data.h2 +
                ' C ' + data.w + ',' + data.h2 + ' ' + (data.w - data.w2) + ',' + data.h + ' ' + data.cw + ',' + data.h +
                ' C ' + data.w2 + ',' + data.h + ' 0,' + data.h2 + ' 0,' + data.h2 + ' Z ; ' +
                'M 0,0 ' + data.w + ',0 ' + data.w + ',' + data.hs +
                ' C ' + data.w + ',' + data.hs + ' ' + (data.w - data.w2) + ',' + data.hs + ' ' + data.cw + ',' + data.hs + '' +
                ' C ' + data.w2 + ',' + data.hs + ' 0,' + data.hs + ' 0,' + data.hs + ' Z'
            shape.setAttribute('values', values);
            shape.setAttribute('dur', '0.4s');
            shape.beginElement();

            let color = document.getElementById('color');
            color.setAttribute('dur', '0.4s');
            color.setAttribute('values', '#D8232A ; #F3A805');
            color.beginElement();
        }

        const setPauseOff = () => {
            if (!showed) return;
            let shape = document.getElementById('shape');
            let values = 'M 0,0 ' + data.w + ',0 ' + data.w + ',' + data.hs +
                ' C ' + data.w + ',' + data.hs + ' ' + (data.w - data.w2) + ',' + data.hs + ' ' + data.cw + ',' + data.hs + '' +
                ' C ' + data.w2 + ',' + data.hs + ' 0,' + data.hs + ' 0,' + data.hs + ' Z ; ' +
                'M 0,0 ' + data.w + ',0 ' + data.w + ',' + data.h2 +
                ' C ' + data.w + ',' + data.h2 + ' ' + (data.w - data.w2) + ',' + data.h + ' ' + data.cw + ',' + data.h +
                ' C ' + data.w2 + ',' + data.h + ' 0,' + data.h2 + ' 0,' + data.h2 + ' Z'
            shape.setAttribute('values', values);
            shape.setAttribute('dur', '0.4s');
            shape.beginElement();

            let color = document.getElementById('color');
            color.setAttribute('dur', '0.4s');
            color.setAttribute('values', '#F3A805 ; #D8232A');
            color.beginElement();
        }

        show(414, 116);

        setTimeout(() => {
            setPauseOn();
        }, 2000);

        setTimeout(() => {
            setPauseOff();
        }, 4000);


        document.addEventListener("message", function(data) {});
    </script>
</body>

</html>